(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{59245:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/key-manager",function(){return s(13484)}])},94802:function(e,n,s){"use strict";s.d(n,{$:function(){return t},D:function(){return i}});var t="https://rpc.l14.lukso.network",i="https://2eff.lukso.dev/ipfs/"},49940:function(e,n,s){"use strict";s.d(n,{Z:function(){return u}});var t=s(34051),i=s.n(t),c=s(67294),a=s(3283),r=s.n(a),o=s(94802);function l(e,n,s,t,i,c,a){try{var r=e[c](a),o=r.value}catch(l){return void s(l)}r.done?n(o):Promise.resolve(o).then(t,i)}function u(){var e=(0,c.useState)(),n=e[0],s=e[1];return(0,c.useEffect)((function(){var e=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(r())(o.$),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})),function(){var n=this,s=arguments;return new Promise((function(t,i){var c=e.apply(n,s);function a(e){l(c,t,i,a,r,"next",e)}function r(e){l(c,t,i,a,r,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();e().then((function(e){s(e)}))}),[]),n}},13484:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return x}});var t=s(85893),i=s(9008),c=s.n(i),a=s(34051),r=s.n(a),o=s(67294),l=s(49940),u=JSON.parse('{"M":[{"inputs":[{"internalType":"address","name":"_from","type":"address"},{"internalType":"uint256","name":"_channel","type":"uint256"}],"name":"getNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]}');function d(e,n,s,t,i,c,a){try{var r=e[c](a),o=r.value}catch(l){return void s(l)}r.done?n(o):Promise.resolve(o).then(t,i)}function h(e){return function(){var n=this,s=arguments;return new Promise((function(t,i){var c=e.apply(n,s);function a(e){d(c,t,i,a,r,"next",e)}function r(e){d(c,t,i,a,r,"throw",e)}a(void 0)}))}}var f=function(){var e=(0,l.Z)(),n=(0,o.useState)(""),s=n[0],i=n[1],c=(0,o.useState)(""),a=c[0],d=c[1],f=(0,o.useState)(""),m=f[0],p=f[1],x=(0,o.useState)(""),v=x[0],N=x[1],j=(0,o.useState)(!1),y=j[0],S=j[1],E=(0,o.useState)(!1),b=E[0],g=E[1],C=function(){var n=h(r().mark((function n(){var t,i,c,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return t=new e.eth.Contract(u.M,e.utils.toChecksumAddress(s)),n.next=5,t.methods.supportsInterface("0x6f4df48b").call();case 5:return i=n.sent,n.next=8,t.methods.supportsInterface("0xc403d48f").call();case 8:if(c=n.sent,!i&&!c){n.next=18;break}return n.next=12,t.methods.getNonce(a,m).call();case 12:o=n.sent,N(o),S(!0),g(!1),n.next=19;break;case 18:S(!1),g(!0);case 19:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:"container mt-5",children:[(0,t.jsx)("h2",{className:"title is-2",children:"Nonce"}),(0,t.jsxs)("p",{children:["Retrieve the nonce of an ",(0,t.jsx)("code",{children:"address"})," for a specific Key Manager."]}),(0,t.jsxs)("div",{className:"columns mt-2",children:[(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("div",{className:"field",children:(0,t.jsxs)("p",{className:"control has-icons-left",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Key Manager address",onChange:function(e){i(e.target.value)}}),(0,t.jsx)("span",{className:"icon is-small is-left",children:"\ud83d\udd10"})]})})}),(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("div",{className:"field",children:(0,t.jsxs)("p",{className:"control has-icons-left",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Caller address",onChange:function(e){return d(e.target.value)}}),(0,t.jsx)("span",{className:"icon is-small is-left",children:"\u27a1\ufe0f "})]})})}),(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("div",{className:"field",children:(0,t.jsxs)("p",{className:"control has-icons-left",children:[(0,t.jsx)("input",{className:"input",type:"text",placeholder:"Channel ID",onChange:function(e){return p(e.target.value)}}),(0,t.jsx)("span",{className:"icon is-small is-left",children:"\ud83d\udeaa"})]})})}),(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("button",{className:"button is-success",onClick:h(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:case"end":return e.stop()}}),e)}))),children:"Get Nonce"})})]}),(0,t.jsxs)("div",{className:"notification is-danger is-light",style:{display:b?"block":"none"},children:["address ",(0,t.jsx)("code",{children:s})," is not a KeyManager"]}),(0,t.jsxs)("div",{className:"notification is-success is-light",style:{display:y?"block":"none"},children:["Nonce = ",(0,t.jsx)("code",{children:v})]})]})},m=s(316),p=function(){var e=(0,o.useState)("0x0000000000000000000000000000000000000000000000000000000000000001"),n=e[0],s=e[1],i=(0,o.useState)({CHANGEOWNER:!0,CHANGEPERMISSIONS:!1,ADDPERMISSIONS:!1,SETDATA:!1,CALL:!1,STATICCALL:!1,DELEGATECALL:!1,DEPLOY:!1,TRANSFERVALUE:!1,SIGN:!1}),c=i[0],a=i[1],r=function(e){var n=c;n[e]=!n[e],a(n),s(m.ZP.encodePermissions(n))};return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{className:"title is-2",children:"Permissions"}),(0,t.jsx)("article",{className:"message is-info",children:(0,t.jsxs)("div",{className:"message-body",children:["This tool will encode/decode permissions according to"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager",children:"LSP6 KeyManager Standard"})," ","smart contract and attempt to match them with their"," ",(0,t.jsx)("a",{href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",children:"LSP2 ERC725YJSONSchema"}),".",(0,t.jsx)("br",{}),"The erc725.js lib provides a"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/classes/ERC725#encodepermissions",children:"decodePermissions"})," ","method to decode the permissions."]})}),(0,t.jsx)("div",{className:"columns",children:(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("input",{className:"input is-medium",type:"text",placeholder:"0x0000000000000000000000000000000000000000000000000000000000000001",value:n,onChange:function(e){return function(e){try{s(e),a(m.ZP.decodePermissions(e))}catch(n){console.log(n.message)}}(e.target.value)}})})}),(0,t.jsx)("div",{className:"columns",children:(0,t.jsxs)("div",{className:"column",children:[(0,t.jsx)("div",{className:"buttons",children:["SETDATA","SIGN"].map((function(e){return(0,t.jsx)("button",{className:"button is-info ".concat(!c[e]&&"is-outlined"),onClick:function(n){n.preventDefault(),r(e)},children:e},e)}))}),(0,t.jsx)("div",{className:"buttons",children:["STATICCALL","CALL","DELEGATECALL","DEPLOY","TRANSFERVALUE"].map((function(e){return(0,t.jsx)("button",{className:"button is-warning ".concat(!c[e]&&"is-outlined"),onClick:function(){r(e)},children:e},e)}))}),(0,t.jsx)("div",{className:"buttons",children:["CHANGEOWNER","CHANGEPERMISSIONS","ADDPERMISSIONS"].map((function(e){return(0,t.jsx)("button",{className:"button is-danger ".concat(!c[e]&&"is-outlined"),onClick:function(){r(e)},children:e},e)}))})]})}),(0,t.jsx)("div",{className:"columns",children:(0,t.jsx)("div",{className:"column",children:(0,t.jsx)("pre",{children:JSON.stringify(c,void 0,2)})})})]})},x=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{children:(0,t.jsx)("title",{children:"Key Manager - ERC725 Tools"})}),(0,t.jsx)(p,{}),(0,t.jsx)(f,{})]})}},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){}},function(e){e.O(0,[482,714,589,316,774,888,179],(function(){return n=59245,e(e.s=n);var n}));var n=e.O();_N_E=n}]);