(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{47136:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inspect",function(){return n(87557)}])},87557:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return T}});var a=n(34051),r=n.n(a),t=n(85893),c=n(11163),i=n(9008),l=n.n(i),d=n(67294),o=n(18269),u=n(25447),h=n(87918),p=function(e){var s=e.address,n=e.showInspectButton,a=void 0===n||n;return(0,t.jsxs)("div",{className:"buttons is-centered are-small pt-2",children:[(0,t.jsx)("a",{className:"button is-primary is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/".concat(s),children:"View on UP as Profile \ud83e\uddd1\u200d\ud83c\udfa4"}),(0,t.jsx)("a",{className:"button is-info is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/asset/".concat(s),children:"View on UP as Asset \ud83d\udc57"}),(0,t.jsx)("a",{className:"button is-link is-light",target:"_blank",rel:"noreferrer",href:"https://blockscout.com/lukso/l14/address/".concat(s),children:"View on Blockscout \u26d3"}),a&&(0,t.jsx)("a",{className:"button is-link is-light",href:"".concat(window.location.href.split("?")[0],"?address=").concat(s),children:"ERC725 Inspect \ud83d\udd0d"})]})},f=n(316),v=n(94784);function x(e,s,n,a,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void n(d)}i.done?s(l):Promise.resolve(l).then(a,r)}var m=function(e){var s=e.address,n=e.erc725JSONSchema,a=e.value,c=(0,d.useState)([]),i=c[0],l=c[1],o=(0,d.useState)({key:"",name:"",value:[]}),u=o[0],h=o[1],m=(0,d.useContext)(v.J).web3;(0,d.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,c,i,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s||void 0===m){e.next=11;break}if(t=[n],c=new f.pY(t,s,m.currentProvider),i=c.decodeData([{keyName:n.name,value:a}]),l(i),"Array"!==n.keyType){e.next=11;break}return e.next=9,c.getData(n.name);case 9:d=e.sent,h(d);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var s=this,n=arguments;return new Promise((function(a,r){var t=e.apply(s,n);function c(e){x(t,a,r,c,i,"next",e)}function i(e){x(t,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[s,m]);try{return"string"===typeof i[0].value?"Address"===n.valueContent?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("code",{children:a}),(0,t.jsx)(p,{address:i[0].value})]}):(0,t.jsx)("code",{children:a}):void 0!==u&&Array.isArray(u.value)&&"Array"===n.keyType?0===u.value.length?(0,t.jsx)("span",{className:"help",children:"No array entries found."}):(0,t.jsx)("ul",{children:u.value.map((function(e,s){return(0,t.jsx)("li",{children:(0,t.jsx)("code",{children:e})},s)}))}):"JSONURL"===n.valueContent?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("pre",{children:JSON.stringify(i[0].value,null,4)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{children:["URL: ",i[0].value.url]})," -"," ",-1!==i[0].value.url.indexOf("ipfs://")&&(0,t.jsxs)(t.Fragment,{children:["[",(0,t.jsx)("a",{className:"has-text-link",target:"_blank",rel:"noreferrer",href:"".concat("https://2eff.lukso.dev/ipfs/","/").concat(i[0].value.url.replace("ipfs://","")),children:"LUKSO IPFS"}),"]"]})]})]}):(0,t.jsx)("div",{children:(0,t.jsx)("pre",{children:JSON.stringify(i[0],null,4)})})}catch(y){return console.warn("Could not decode the key: ",y),(0,t.jsx)("span",{children:"Can't decode this key"})}},y=JSON.parse('[{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"SupportedStandards:LSP3UniversalProfile","key":"0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38","keyType":"Mapping","valueType":"bytes4","valueContent":"0xabe425d6"},{"name":"LSP3Profile","key":"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5","keyType":"Singleton","valueType":"bytes","valueContent":"JSONURL"},{"name":"LSP5ReceivedAssets[]","key":"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"AddressPermissions[]","key":"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP10Vaults[]","key":"0x55482936e01da86729a45d2b87a6b1d3bc582bea0ec00e38bdb340e3af6f9f06","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP12IssuedAssets[]","key":"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd","keyType":"Array","valueType":"address","valueContent":"Address"}]'),j=JSON.parse('[{"name":"SupportedStandards:LSP3UniversalProfile","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abe425d6","keyType":"Mapping","valueType":"bytes4","valueContent":"0xabe425d6"}]'),b=JSON.parse('[{"name":"SupportedStandards:ERC725Account","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6","keyType":"Singleton","valueContent":"0xafdeb5d6","valueType":"bytes"}]');function g(e,s,n,a,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void n(d)}i.done?s(l):Promise.resolve(l).then(a,r)}var S,k=function(e){var s=e.address,n=e.isErc725Y,a=e.isErc725Y_v2,c=e.isErc725YLegacy,i=(0,d.useState)([]),l=i[0],o=i[1],f=(0,d.useContext)(v.J).web3,x=n||a||c;return(0,d.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,i,l,d,h,p,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:if(x){e.next=4;break}return e.abrupt("return");case 4:if(t=[],e.prev=5,!n){e.next=12;break}return i=y.map((function(e){return e.key})),e.next=10,(0,u.Yu)(s,i,f);case 10:(l=e.sent).map((function(e,s){t.push({key:i[s],value:l[s],schema:y[s]})}));case 12:if(!a){e.next=18;break}return d=j.map((function(e){return e.key})),e.next=16,(0,u.Yu)(s,d,f);case 16:(h=e.sent).map((function(e,s){t.push({key:d[s],value:h[s],schema:j[s]})}));case 18:if(!c){e.next=24;break}return p=b.map((function(e){return e.key})),e.next=22,(0,u.$K)(s,f);case 22:v=e.sent,t.push({key:p[0],value:v[0],schema:b[0]});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),console.error(e.t0);case 29:o(t);case 30:case"end":return e.stop()}}),e,null,[[5,26]])})),function(){var s=this,n=arguments;return new Promise((function(a,r){var t=e.apply(s,n);function c(e){g(t,a,r,c,i,"next",e)}function i(e){g(t,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[s,f,n,a,c]),f?s?(0,t.jsx)("div",{className:"columns is-multiline",children:l.map((function(e){return(0,t.jsx)("div",{className:"column is-full",children:(0,t.jsxs)("div",{className:"content py-5",children:[(0,t.jsxs)("h4",{className:"title is-4",children:[e.schema.name," ",(0,t.jsx)(h.Z,{label:e.schema.keyType,color:"success",variant:"outlined",size:"small"})]}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Key: ",(0,t.jsx)("code",{children:e.schema.key})]}),(0,t.jsxs)("li",{children:["Raw value"," ",(0,t.jsx)("span",{className:"tag is-link is-light",children:e.schema.valueType}),": ",(0,t.jsx)("code",{children:e.value})]}),(0,t.jsxs)("li",{children:["Decoded value"," ",(0,t.jsx)("span",{className:"tag is-link is-light",children:e.schema.valueContent}),":"," ",(0,t.jsx)(m,{address:s,erc725JSONSchema:e.schema,value:e.value})]}),"MappingWithGrouping"===e.schema.keyType&&(0,t.jsxs)("li",{children:["Mapped address:"," ",(0,t.jsxs)("code",{children:["0x",e.schema.name.split(":").pop()]})," ",(0,t.jsx)(p,{address:"0x".concat(e.schema.name.split(":").pop())})]})]})]})},e.key)}))}):(0,t.jsx)("p",{children:"\u2b06\ufe0f enter the address of your UP"}):(0,t.jsx)("p",{children:"error: could not load provider"})},N=n(91748),w=n(69705),P=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];function C(e,s,n,a,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void n(d)}i.done?s(l):Promise.resolve(l).then(a,r)}function E(e){return function(){var s=this,n=arguments;return new Promise((function(a,r){var t=e.apply(s,n);function c(e){C(t,a,r,c,i,"next",e)}function i(e){C(t,a,r,c,i,"throw",e)}c(void 0)}))}}!function(e){e.KeyManager="Key Manager",e.SmartContract="Smart Contract",e.EOA="EOA"}(S||(S={}));var L=function(e){var s=e.UPAddress,n=(0,d.useState)(""),a=n[0],c=n[1],i=(0,d.useState)(),l=i[0],o=i[1],u=(0,d.useContext)(v.J).web3,h=function(){var e=E(r().mark((function e(s){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.eth.Contract(P,s),e.next=3,n.methods.supportsInterface(w.INTERFACE_IDS.LSP6KeyManager).call();case 3:a=e.sent,o(a?S.KeyManager:S.SmartContract);case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),p=function(){var e=E(r().mark((function e(s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.eth.getCode(s);case 3:if(e.t0=e.sent,!("0x"===e.t0)){e.next=8;break}return o(S.EOA),e.abrupt("return");case 8:return e.next=10,h(s);case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(s){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){if(u&&s){var e=new u.eth.Contract(N.Mt,s);try{e.methods.owner().call().then((function(e){c(e),p(e)}))}catch(n){console.log(n)}}}),[s,u]),(0,t.jsx)("div",{className:"columns is-multiline",children:(0,t.jsx)("div",{className:"column is-full",children:(0,t.jsxs)("div",{className:"content pt-5",children:[(0,t.jsx)("h4",{className:"title is-4",children:"Owner"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Owner address"," ",(0,t.jsx)("span",{className:"tag is-link is-light",children:"address"}),":"," ",(0,t.jsx)("code",{children:a})]}),(0,t.jsxs)("li",{children:["Owner type: ",(0,t.jsx)("strong",{children:l})]})]})]})})})};function A(e,s,n,a,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void n(d)}i.done?s(l):Promise.resolve(l).then(a,r)}var T=function(){var e=(0,c.useRouter)(),s=(0,d.useContext)(v.J).web3,n=(0,d.useState)(!1),a=n[0],i=n[1],h=(0,d.useState)(""),f=h[0],x=h[1],m=(0,d.useState)(!1),y=m[0],j=m[1],b=(0,d.useState)(!1),g=b[0],S=b[1],N=(0,d.useState)(!1),w=N[0],P=N[1],C=(0,d.useState)(!1),E=C[0],T=C[1],R=(0,d.useState)(!1),O=R[0],_=R[1],Y=(0,d.useState)(!1),U=Y[0],D=Y[1],I=(0,d.useState)(!1),J=I[0],M=I[1],K=(0,d.useState)(!1),F=K[0],V=K[1],X=(0,d.useState)(!1),q=X[0],B=X[1],z=(0,d.useState)(!1),G=z[0],W=z[1],Z=(0,d.useState)(!1),$=Z[0],H=Z[1],Q=(0,d.useState)(!1),ee=Q[0],se=Q[1],ne=(0,d.useState)(""),ae=ne[0],re=ne[1],te=(0,d.useState)({text:"",class:""}),ce=te[0],ie=te[1];(0,d.useEffect)((function(){e.query.address&&x(e.query.address)}),[e.query.address]),(0,d.useEffect)((function(){var n=function(){var n,a=(n=r().mark((function n(){var a,t,c;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s){n.next=2;break}return n.abrupt("return");case 2:if(j(!1),S(!1),P(!1),T(!1),re(""),(0,o.isAddress)(f)){n.next=10;break}return re("Address is not valid"),n.abrupt("return");case 10:return e.push("/inspect?address=".concat(f)),i(!0),n.next=14,(0,u.DE)(f,s);case 14:a=n.sent,j(a.isErc725X),S(a.isErc725Y),P(a.isErc725Y_v2),T(a.isErc725YLegacy),_(a.isErc1271),D(a.isLsp0Erc725Account),M(a.isLsp1UniversalReceiver),V(a.isLsp1UniversalReceiverDelegate),B(a.isLsp6KeyManager),W(a.isLsp7DigitalAsset),H(a.isLsp8IdentifiableDigitalAsset),se(a.isLsp9Vault),i(!1),t="",c="",a.isErc725Y_v2&&(t="\u26a0\ufe0f \ud83c\udd99 This Profile was created with version 0.5.0. You are missing out on a lot of new cool features. Consider upgrading! ",c="warning"),a.isErc725YLegacy&&(t="\ud83d\ude1e \u2757 This is a legacy Universal Profile. Most of the features might not be working properly. Consider creating a new one. ",c="danger"),ie({text:t,class:c});case 33:case"end":return n.stop()}}),n)})),function(){var e=this,s=arguments;return new Promise((function(a,r){var t=n.apply(e,s);function c(e){A(t,a,r,c,i,"next",e)}function i(e){A(t,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return a.apply(this,arguments)}}();n()}),[f,s,ae]);var le=g||w||E,de=function(){return y||le||O||U||J||F||q||G||$||ee?(0,t.jsxs)("div",{className:"help is-success inspect-result",children:[(0,t.jsxs)("p",{children:["ERC725X: ",y?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["ERC725Y: ",le?"\u2705":"\u274c"," ",w&&"(v2.0)",E&&"(legacy)"]}),(0,t.jsxs)("p",{children:["ERC1271: ",O?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP0ERC725Account: ",U?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP1UniversalReceiver: ",J?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP1UniversalReceiverDelegate:"," ",F?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP6KeyManager: ",q?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP7DigitalAsset: ",G?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP8IdentifiableDigitalAsset:"," ",$?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["LSP9Vault: ",ee?"\u2705":"\u274c"]})]}):(0,t.jsxs)("div",{className:"help is-danger inspect-result",children:[(0,t.jsx)("p",{children:"ERC725X: \u274c"}),(0,t.jsx)("p",{children:"ERC725Y: \u274c"}),(0,t.jsx)("p",{children:"ERC1271: \u274c"}),(0,t.jsx)("p",{children:"LSP0ERC725Account: \u274c"}),(0,t.jsx)("p",{children:"LSP1UniversalReceiver: \u274c"}),(0,t.jsx)("p",{children:"LSP1UniversalReceiverDelegate: \u274c"}),(0,t.jsx)("p",{children:"LSP6KeyManager: \u274c"}),(0,t.jsx)("p",{children:"LSP7DigitalAsset: \u274c"}),(0,t.jsx)("p",{children:"LSP8IdentifiableDigitalAsset: \u274c"}),(0,t.jsx)("p",{children:"LSP9Vault: \u274c"}),(0,t.jsx)("p",{children:"This address is not a valid ERC725 Profile, nor it is a valid LSP contract."}),(0,t.jsx)("p",{children:"Please check if the addressis correct."})]})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsx)("title",{children:"Inspect - ERC725 Tools"})}),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("article",{className:"message is-info",children:(0,t.jsxs)("div",{className:"message-body",children:["This tool will fetch all data keys of"," ",(0,t.jsx)("a",{href:"https://github.com/ERC725Alliance/ERC725",children:"ERC725Y"})," smart contract and attempt to match them with their"," ",(0,t.jsx)("a",{href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",children:"LSP2 ERC725YJSONSchema"}),".",(0,t.jsx)("br",{}),"The erc725.js lib provides a"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/classes/ERC725#getschema",children:"getSchema"})," ","method to decode the keys."]})}),(0,t.jsxs)("div",{className:"columns",children:[(0,t.jsx)("div",{className:"column is-half",children:(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{className:"label",children:"Contract address"}),(0,t.jsx)("div",{className:"control mb-0",children:(0,t.jsx)("input",{className:"input",type:"text",placeholder:"0xb8E120e7e5EAe7bfA629Db5CEFfA69C834F74e99",value:f,onChange:function(e){x(e.target.value)}})}),(0,t.jsx)("div",{className:"columns",children:(0,t.jsx)("div",{className:"column is-one-half",children:ae?(0,t.jsx)("div",{className:"help is-danger",children:ae}):(0,t.jsx)(de,{})})})]})}),(0,t.jsx)("div",{className:"column is-half",children:(w||E)&&(0,t.jsx)("div",{className:"notification is-"+ce.class,children:ce.text})})]}),(0,t.jsx)("div",{className:"container is-fluid",children:(0,t.jsx)("div",{className:"columns is-vcentered",children:(0,t.jsx)("div",{className:"column is-offset-one-quarter is-half has-text-centered",children:!ae&&(0,t.jsx)(p,{address:f,showInspectButton:!1})})})}),(0,t.jsx)("div",{className:"container is-fluid",children:!ae&&!a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L,{UPAddress:f}),(0,t.jsx)(k,{address:f,isErc725YLegacy:E,isErc725Y_v2:w,isErc725Y:g})]})})]})]})}}},function(e){e.O(0,[316,640,240,447,774,888,179],(function(){return s=47136,e(e.s=s);var s}));var s=e.O();_N_E=s}]);