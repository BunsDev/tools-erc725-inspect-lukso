(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{7136:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inspect",function(){return a(6534)}])},6534:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var t,r=a(7568),n=a(655),c=a(5893),i=a(1163),l=a(9008),d=a.n(l),o=a(7294),u=a(8269),h=a(7274),f=a(9062),p=function(e){var s=e.address,a=e.showInspectButton,t=void 0===a||a;return(0,c.jsxs)("div",{className:"buttons is-centered are-small pt-2",children:[(0,c.jsx)("a",{className:"button is-primary is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/".concat(s),children:"View on UP as Profile \ud83e\uddd1\u200d\ud83c\udfa4"}),(0,c.jsx)("a",{className:"button is-info is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/asset/".concat(s),children:"View on UP as Asset \ud83d\udc57"}),(0,c.jsx)("a",{className:"button is-link is-light",target:"_blank",rel:"noreferrer",href:"https://blockscout.com/lukso/l14/address/".concat(s),children:"View on Blockscout \u26d3"}),t&&(0,c.jsx)("a",{className:"button is-link is-light",href:"".concat(window.location.href.split("?")[0],"?address=").concat(s),children:"ERC725 Inspect \ud83d\udd0d"})]})},m=a(6060),v=a(3538),x=function(e){var s=e.address,a=e.erc725JSONSchema,t=e.value,i=(0,o.useState)([]),l=i[0],d=i[1],u=(0,o.useState)({key:"",name:"",value:[]}),h=u[0],f=u[1],x=(0,o.useContext)(v.J).web3;(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){var e,r,c,i,l;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),s&&void 0!==x?(e=[a],r=new m.pY(e,s,x.currentProvider),c=r.decodeData([{keyName:a.name,value:t}]),d(c),"Array"!==a.keyType?[3,2]:[4,r.getData(a.name)]):[3,2];case 1:i=n.sent(),f(i),n.label=2;case 2:return[3,4];case 3:return l=n.sent(),console.log(l.message),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[s,x]);try{return"string"===typeof l[0].value?"Address"===a.valueContent?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("code",{children:t}),(0,c.jsx)(p,{address:l[0].value})]}):(0,c.jsx)("code",{children:t}):void 0!==h&&Array.isArray(h.value)&&"Array"===a.keyType?0===h.value.length?(0,c.jsx)("span",{className:"help",children:"No array entries found."}):(0,c.jsx)("ul",{children:h.value.map((function(e,s){return(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:e})},s)}))}):"JSONURL"===a.valueContent?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("pre",{children:JSON.stringify(l[0].value,null,4)}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{children:["URL: ",l[0].value.url]})," -"," ",-1!==l[0].value.url.indexOf("ipfs://")&&(0,c.jsxs)(c.Fragment,{children:["[",(0,c.jsx)("a",{className:"has-text-link",target:"_blank",rel:"noreferrer",href:"".concat("https://2eff.lukso.dev/ipfs/","/").concat(l[0].value.url.replace("ipfs://","")),children:"LUKSO IPFS"}),"]"]})]})]}):(0,c.jsx)("div",{children:(0,c.jsx)("pre",{children:JSON.stringify(l[0],null,4)})})}catch(y){return console.warn("Could not decode the key: ",y),(0,c.jsx)("span",{children:"Can't decode this key"})}},y=JSON.parse('[{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"SupportedStandards:LSP3UniversalProfile","key":"0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38","keyType":"Mapping","valueType":"bytes4","valueContent":"0xabe425d6"},{"name":"LSP3Profile","key":"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5","keyType":"Singleton","valueType":"bytes","valueContent":"JSONURL"},{"name":"LSP5ReceivedAssets[]","key":"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"AddressPermissions[]","key":"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP10Vaults[]","key":"0x55482936e01da86729a45d2b87a6b1d3bc582bea0ec00e38bdb340e3af6f9f06","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP12IssuedAssets[]","key":"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd","keyType":"Array","valueType":"address","valueContent":"Address"}]'),b=JSON.parse('[{"name":"SupportedStandards:LSP3UniversalProfile","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abe425d6","keyType":"Mapping","valueType":"bytes4","valueContent":"0xabe425d6"}]'),j=JSON.parse('[{"name":"SupportedStandards:ERC725Account","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6","keyType":"Singleton","valueContent":"0xafdeb5d6","valueType":"bytes"}]'),g=function(e){var s=e.address,a=e.isErc725Y,t=e.isErc725Y_v2,i=e.isErc725YLegacy,l=(0,o.useState)([]),d=l[0],u=l[1],m=(0,o.useContext)(v.J).web3,g=a||t||i;return(0,o.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){var e,r,c,l,d,o,f,p;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(!m)return[2];if(!g)return[2];e=[],n.label=1;case 1:return n.trys.push([1,8,,9]),a?(r=y.map((function(e){return e.key})),[4,(0,h.Yu)(s,r,m)]):[3,3];case 2:(c=n.sent()).map((function(s,a){e.push({key:r[a],value:c[a],schema:y[a]})})),n.label=3;case 3:return t?(l=b.map((function(e){return e.key})),[4,(0,h.Yu)(s,l,m)]):[3,5];case 4:(d=n.sent()).map((function(s,a){e.push({key:l[a],value:d[a],schema:b[a]})})),n.label=5;case 5:return i?(o=j.map((function(e){return e.key})),[4,(0,h.$K)(s,m)]):[3,7];case 6:f=n.sent(),e.push({key:o[0],value:f[0],schema:j[0]}),n.label=7;case 7:return[3,9];case 8:return p=n.sent(),console.error(p),[3,9];case 9:return u(e),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[s,m,a,t,i]),m?s?(0,c.jsx)("div",{className:"columns is-multiline",children:d.map((function(e){return(0,c.jsx)("div",{className:"column is-full",children:(0,c.jsxs)("div",{className:"content py-5",children:[(0,c.jsxs)("h4",{className:"title is-4",children:[e.schema.name," ",(0,c.jsx)(f.Z,{label:e.schema.keyType,color:"success",variant:"outlined",size:"small"})]}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:["Key: ",(0,c.jsx)("code",{children:e.schema.key})]}),(0,c.jsxs)("li",{children:["Raw value"," ",(0,c.jsx)("span",{className:"tag is-link is-light",children:e.schema.valueType}),": ",(0,c.jsx)("code",{children:e.value})]}),(0,c.jsxs)("li",{children:["Decoded value"," ",(0,c.jsx)("span",{className:"tag is-link is-light",children:e.schema.valueContent}),":"," ",(0,c.jsx)(x,{address:s,erc725JSONSchema:e.schema,value:e.value})]}),"MappingWithGrouping"===e.schema.keyType&&(0,c.jsxs)("li",{children:["Mapped address:"," ",(0,c.jsxs)("code",{children:["0x",e.schema.name.split(":").pop()]})," ",(0,c.jsx)(p,{address:"0x".concat(e.schema.name.split(":").pop())})]})]})]})},e.key)}))}):(0,c.jsx)("p",{children:"\u2b06\ufe0f enter the address of your UP"}):(0,c.jsx)("p",{children:"error: could not load provider"})},k=a(2179),S=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],N=a(2637);!function(e){e.KeyManager="Key Manager",e.SmartContract="Smart Contract",e.EOA="EOA"}(t||(t={}));var C=function(e){var s=e.UPAddress,a=(0,o.useState)(""),i=a[0],l=a[1],d=(0,o.useState)(),h=d[0],f=d[1],p=(0,o.useContext)(v.J).web3,m=function(){var e=(0,r.Z)((function(e){var s;return(0,n.__generator)(this,(function(a){switch(a.label){case 0:return[4,new p.eth.Contract(S,e).methods.supportsInterface(N.Bj.LSP6KeyManager).call()];case 1:return s=a.sent(),f(s?t.KeyManager:t.SmartContract),[2]}}))}));return function(s){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)((function(e){var s;return(0,n.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,p.eth.getCode(e)];case 1:return"0x"===a.sent()?(f(t.EOA),[2]):[4,m(e)];case 2:return a.sent(),[3,4];case 3:return s=a.sent(),console.log(s),[3,4];case 4:return[2]}}))}));return function(s){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){if(p&&s&&(0,u.isAddress)(s)){var e=new p.eth.Contract(k.Mt,s);try{e.methods.owner().call().then((function(e){l(e),x(e)}))}catch(a){console.log(a)}}}),[s,p]),(0,c.jsx)("div",{className:"columns is-multiline",children:(0,c.jsx)("div",{className:"column is-full",children:(0,c.jsxs)("div",{className:"content pt-5",children:[(0,c.jsx)("h4",{className:"title is-4",children:"Owner"}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:["Owner address"," ",(0,c.jsx)("span",{className:"tag is-link is-light",children:"address"}),":"," ",(0,c.jsx)("code",{children:i})]}),(0,c.jsxs)("li",{children:["Owner type: ",(0,c.jsx)("strong",{children:h})]})]})]})})})},E=function(){var e=(0,i.useRouter)(),s=(0,o.useContext)(v.J).web3,a=(0,o.useState)(!1),t=a[0],l=a[1],f=(0,o.useState)(""),m=f[0],x=f[1],y=(0,o.useState)(!1),b=y[0],j=y[1],k=(0,o.useState)(!1),S=k[0],N=k[1],E=(0,o.useState)(!1),w=E[0],P=E[1],A=(0,o.useState)(!1),_=A[0],L=A[1],T=(0,o.useState)(!1),R=T[0],O=T[1],Y=(0,o.useState)(!1),J=Y[0],U=Y[1],I=(0,o.useState)(!1),M=I[0],D=I[1],K=(0,o.useState)(!1),F=K[0],V=K[1],Z=(0,o.useState)(!1),q=Z[0],B=Z[1],X=(0,o.useState)(!1),z=X[0],G=X[1],W=(0,o.useState)(!1),$=W[0],H=W[1],Q=(0,o.useState)(""),ee=Q[0],se=Q[1],ae=(0,o.useState)({text:"",class:""}),te=ae[0],re=ae[1];(0,o.useEffect)((function(){e.query.address&&x(e.query.address)}),[e.query.address]),(0,o.useEffect)((function(){var a=function(){var a=(0,r.Z)((function(){var a,t,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return s?(j(!1),N(!1),P(!1),L(!1),se(""),(0,u.isAddress)(m)?(e.push("/inspect?address=".concat(m)),l(!0),[4,(0,h.DE)(m,s)]):(se("Address is not valid"),[2])):[2];case 1:return a=n.sent(),j(a.isErc725X),N(a.isErc725Y),P(a.isErc725Y_v2),L(a.isErc725YLegacy),O(a.isErc1271),U(a.isLsp0Erc725Account),D(a.isLsp1UniversalReceiver),V(a.isLsp6KeyManager),B(a.isLsp7DigitalAsset),G(a.isLsp8IdentifiableDigitalAsset),H(a.isLsp9Vault),l(!1),t="",r="",a.isErc725Y_v2&&(t="\u26a0\ufe0f \ud83c\udd99 This Profile was created with version 0.5.0. You are missing out on a lot of new cool features. Consider upgrading! ",r="warning"),a.isErc725YLegacy&&(t="\ud83d\ude1e \u2757 This is a legacy Universal Profile. Most of the features might not be working properly. Consider creating a new one. ",r="danger"),re({text:t,class:r}),[2]}}))}));return function(){return a.apply(this,arguments)}}();a()}),[m,s,ee]);var ne=S||w||_,ce=function(){return b||ne||M||F||J?(0,c.jsxs)("div",{className:"help is-success inspect-result",children:[(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!b&&"is-outlined"),href:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725x---generic-executor",target:"_blank",rel:"noreferrer",children:"ERC725X"}),(0,c.jsxs)("a",{className:"button is-link mr-2 mt-2 ".concat(!ne&&"is-outlined"),href:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725y---generic-key-value-store",target:"_blank",rel:"noreferrer",children:["ERC725Y ",w&&"(v2.0)",_&&"(legacy)"]}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!R&&"is-outlined"),href:"https://eips.ethereum.org/EIPS/eip-1271",target:"_blank",rel:"noreferrer",children:"ERC1271"}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!J&&"is-outlined"),href:"https://docs.lukso.tech/standards/universal-profile/lsp0-erc725account#erc725y---generic-key-value-store",target:"_blank",rel:"noreferrer",children:"LSP0ERC725Account"}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!M&&"is-outlined"),href:"https://docs.lukso.tech/standards/generic-standards/lsp1-universal-receiver",target:"_blank",rel:"noreferrer",children:"LSP1UniversalReceiver"}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!F&&"is-outlined"),href:"https://docs.lukso.tech/standards/universal-profile/lsp6-key-manager",target:"_blank",rel:"noreferrer",children:"LSP6KeyManager"}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!q&&"is-outlined"),href:"https://docs.lukso.tech/standards/nft-2.0/LSP7-Digital-Asset",target:"_blank",rel:"noreferrer",children:"LSP7DigitalAsset"}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!z&&"is-outlined"),href:"https://docs.lukso.tech/standards/nft-2.0/LSP8-Identifiable-Digital-Asset",target:"_blank",rel:"noreferrer",children:"LSP8IdentifiableDigitalAsset"}),(0,c.jsx)("a",{className:"button is-link mr-2 mt-2 ".concat(!$&&"is-outlined"),href:"https://docs.lukso.tech/standards/universal-profile/lsp9-vault",target:"_blank",rel:"noreferrer",children:"LSP9Vault"})]}):(0,c.jsxs)("div",{className:"help is-danger inspect-result",children:[(0,c.jsx)("p",{children:"This address is not a valid ERC725 Profile, nor it is a valid LSP contract."}),(0,c.jsx)("p",{children:"Please check if the address is correct."})]})};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d(),{children:(0,c.jsx)("title",{children:"Inspect - ERC725 Tools"})}),(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("article",{className:"message is-info",children:(0,c.jsxs)("div",{className:"message-body",children:["This tool will fetch all data keys of"," ",(0,c.jsx)("a",{href:"https://github.com/ERC725Alliance/ERC725",children:"ERC725Y"})," smart contract and attempt to match them with their"," ",(0,c.jsx)("a",{href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",children:"LSP2 ERC725YJSONSchema"}),".",(0,c.jsx)("br",{}),"The erc725.js lib provides a"," ",(0,c.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/classes/ERC725#getschema",children:"getSchema"})," ","method to decode the keys."]})}),(0,c.jsxs)("div",{className:"columns",children:[(0,c.jsx)("div",{className:"column is-half",children:(0,c.jsxs)("div",{className:"field",children:[(0,c.jsx)("label",{className:"label",children:"Contract address"}),(0,c.jsx)("div",{className:"control mb-0",children:(0,c.jsx)("input",{className:"input",type:"text",placeholder:"0xb8E120e7e5EAe7bfA629Db5CEFfA69C834F74e99",value:m,onChange:function(e){x(e.target.value)}})}),(0,c.jsx)("div",{className:"columns",children:(0,c.jsx)("div",{className:"column is-one-half",children:ee?(0,c.jsx)("div",{className:"help is-danger",children:ee}):(0,c.jsx)(ce,{})})})]})}),(0,c.jsx)("div",{className:"column is-half",children:(w||_)&&(0,c.jsx)("div",{className:"notification is-"+te.class,children:te.text})})]}),(0,c.jsx)("div",{className:"container is-fluid",children:(0,c.jsx)("div",{className:"columns is-vcentered",children:(0,c.jsx)("div",{className:"column is-offset-one-quarter is-half has-text-centered",children:!ee&&(0,c.jsx)(p,{address:m,showInspectButton:!1})})})}),(0,c.jsx)("div",{className:"container is-fluid",children:!ee&&!t&&(0,c.jsxs)(c.Fragment,{children:[b&&(0,c.jsx)(C,{UPAddress:m}),(0,c.jsx)(g,{address:m,isErc725YLegacy:_,isErc725Y_v2:w,isErc725Y:S})]})})]})]})}}},function(e){e.O(0,[60,640,496,501,307,774,888,179],(function(){return s=7136,e(e.s=s);var s}));var s=e.O();_N_E=s}]);