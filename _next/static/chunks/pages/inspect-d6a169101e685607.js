(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{47136:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inspect",function(){return a(98069)}])},98069:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var n=a(34051),r=a.n(n),t=a(85893),c=a(11163),i=a(9008),l=a.n(i),d=a(67294),o=a(18269),u=a(49940),h=a(52442),f=a(87918),p=function(e){var s=e.address,a=e.showInspectButton,n=void 0===a||a;return(0,t.jsxs)("div",{className:"buttons is-centered are-small pt-2",children:[(0,t.jsx)("a",{className:"button is-primary is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/".concat(s),children:"View on UP as Profile \ud83e\uddd1\u200d\ud83c\udfa4"}),(0,t.jsx)("a",{className:"button is-info is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/asset/".concat(s),children:"View on UP as Asset \ud83d\udc57"}),(0,t.jsx)("a",{className:"button is-link is-light",target:"_blank",rel:"noreferrer",href:"https://blockscout.com/lukso/l14/address/".concat(s),children:"View on Blockscout \u26d3"}),n&&(0,t.jsx)("a",{className:"button is-link is-light",href:"".concat(window.location.href.split("?")[0],"?address=").concat(s),children:"ERC725 Inspect \ud83d\udd0d"})]})},v=a(316),x=a(94802);function m(e,s,a,n,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void a(d)}i.done?s(l):Promise.resolve(l).then(n,r)}var y=function(e){var s=e.address,a=e.erc725JSONSchema,n=e.value,c=(0,d.useState)([]),i=c[0],l=c[1],o=(0,d.useState)({key:"",name:"",value:[]}),h=o[0],f=o[1],y=(0,u.Z)();(0,d.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,c,i,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||void 0===y){e.next=10;break}if(t=[a],c=new v.pY(t,s,y.currentProvider),i=c.decodeData([{keyName:a.name,value:n}]),l(i),"Array"!==a.keyType){e.next=10;break}return e.next=8,c.getData(a.name);case 8:d=e.sent,f(d);case 10:case"end":return e.stop()}}),e)})),function(){var s=this,a=arguments;return new Promise((function(n,r){var t=e.apply(s,a);function c(e){m(t,n,r,c,i,"next",e)}function i(e){m(t,n,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[s,y]);try{return"string"===typeof i[0].value?"Address"===a.valueContent?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("code",{children:n}),(0,t.jsx)(p,{address:i[0].value})]}):(0,t.jsx)("code",{children:n}):void 0!==h&&Array.isArray(h.value)&&"Array"===a.keyType?0===h.value.length?(0,t.jsx)("span",{className:"help",children:"No array entries found."}):(0,t.jsx)("ul",{children:h.value.map((function(e,s){return(0,t.jsx)("li",{children:(0,t.jsx)("code",{children:e})},s)}))}):"JSONURL"===a.valueContent?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("pre",{children:JSON.stringify(i[0].value,null,4)}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{children:["URL: ",i[0].value.url]})," -"," ",-1!==i[0].value.url.indexOf("ipfs://")&&(0,t.jsxs)(t.Fragment,{children:["[",(0,t.jsx)("a",{className:"has-text-link",target:"_blank",rel:"noreferrer",href:"".concat(x.D,"/").concat(i[0].value.url.replace("ipfs://","")),children:"LUKSO IPFS"}),"]"]})]})]}):(0,t.jsx)("div",{children:(0,t.jsx)("pre",{children:JSON.stringify(i[0],null,4)})})}catch(b){return console.warn("Could not decode the key: ",b),(0,t.jsx)("span",{children:"Can't decode this key"})}},b=JSON.parse('[{"name":"LSP1UniversalReceiverDelegate","key":"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47","keyType":"Singleton","valueType":"address","valueContent":"Address"},{"name":"SupportedStandards:LSP3UniversalProfile","key":"0xeafec4d89fa9619884b60000abe425d64acd861a49b8ddf5c0b6962110481f38","keyType":"Mapping","valueType":"bytes4","valueContent":"0xabe425d6"},{"name":"LSP3Profile","key":"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5","keyType":"Singleton","valueType":"bytes","valueContent":"JSONURL"},{"name":"LSP5ReceivedAssets[]","key":"0x6460ee3c0aac563ccbf76d6e1d07bada78e3a9514e6382b736ed3f478ab7b90b","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"AddressPermissions[]","key":"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP10Vaults[]","key":"0x55482936e01da86729a45d2b87a6b1d3bc582bea0ec00e38bdb340e3af6f9f06","keyType":"Array","valueType":"address","valueContent":"Address"},{"name":"LSP12IssuedAssets[]","key":"0x7c8c3416d6cda87cd42c71ea1843df28ac4850354f988d55ee2eaa47b6dc05cd","keyType":"Array","valueType":"address","valueContent":"Address"}]'),j=JSON.parse('[{"name":"SupportedStandards:LSP3UniversalProfile","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abe425d6","keyType":"Mapping","valueType":"bytes4","valueContent":"0xabe425d6"}]'),k=JSON.parse('[{"name":"SupportedStandards:ERC725Account","key":"0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6","keyType":"Singleton","valueContent":"0xafdeb5d6","valueType":"bytes"}]');function g(e,s,a,n,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void a(d)}i.done?s(l):Promise.resolve(l).then(n,r)}var N=function(e){var s=e.address,a=e.isErc725Y,n=e.isErc725Y_v2,c=e.isErc725YLegacy,i=(0,d.useState)([]),l=i[0],o=i[1],v=(0,u.Z)(),x=a||n||c;return(0,d.useEffect)((function(){var e=function(){var e,t=(e=r().mark((function e(){var t,i,l,d,u,f,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:if(x){e.next=4;break}return e.abrupt("return");case 4:if(t=[],e.prev=5,!a){e.next=12;break}return i=b.map((function(e){return e.key})),e.next=10,(0,h.Yu)(s,i,v);case 10:(l=e.sent).map((function(e,s){t.push({key:i[s],value:l[s],schema:b[s]})}));case 12:if(!n){e.next=18;break}return d=j.map((function(e){return e.key})),e.next=16,(0,h.Yu)(s,d,v);case 16:(u=e.sent).map((function(e,s){t.push({key:d[s],value:u[s],schema:j[s]})}));case 18:if(!c){e.next=24;break}return f=k.map((function(e){return e.key})),e.next=22,(0,h.$K)(s,v);case 22:p=e.sent,t.push({key:f[0],value:p[0],schema:k[0]});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),console.error(e.t0);case 29:o(t);case 30:case"end":return e.stop()}}),e,null,[[5,26]])})),function(){var s=this,a=arguments;return new Promise((function(n,r){var t=e.apply(s,a);function c(e){g(t,n,r,c,i,"next",e)}function i(e){g(t,n,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[s,v,a,n,c]),v?s?(0,t.jsx)("div",{className:"columns is-multiline",children:l.map((function(e){return(0,t.jsx)("div",{className:"column is-full",children:(0,t.jsxs)("div",{className:"content py-5",children:[(0,t.jsxs)("h4",{className:"title is-4",children:[e.schema.name," ",(0,t.jsx)(f.Z,{label:e.schema.keyType,color:"success",variant:"outlined",size:"small"})]}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Key: ",(0,t.jsx)("code",{children:e.schema.key})]}),(0,t.jsxs)("li",{children:["Raw value"," ",(0,t.jsx)("span",{className:"tag is-link is-light",children:e.schema.valueType}),": ",(0,t.jsx)("code",{children:e.value})]}),(0,t.jsxs)("li",{children:["Decoded value"," ",(0,t.jsx)("span",{className:"tag is-link is-light",children:e.schema.valueContent}),":"," ",(0,t.jsx)(y,{address:s,erc725JSONSchema:e.schema,value:e.value})]}),"MappingWithGrouping"===e.schema.keyType&&(0,t.jsxs)("li",{children:["Mapped address:"," ",(0,t.jsxs)("code",{children:["0x",e.schema.name.split(":").pop()]})," ",(0,t.jsx)(p,{address:"0x".concat(e.schema.name.split(":").pop())})]})]})]})},e.key)}))}):(0,t.jsx)("p",{children:"\u2b06\ufe0f enter the address of your UP"}):(0,t.jsx)("p",{children:"error: could not load provider"})};function S(e,s,a,n,r,t,c){try{var i=e[t](c),l=i.value}catch(d){return void a(d)}i.done?s(l):Promise.resolve(l).then(n,r)}var E=function(){var e=(0,c.useRouter)(),s=(0,u.Z)(),a=(0,d.useState)(!1),n=a[0],i=a[1],f=(0,d.useState)(""),v=f[0],x=f[1],m=(0,d.useState)(!1),y=m[0],b=m[1],j=(0,d.useState)(!1),k=j[0],g=j[1],E=(0,d.useState)(!1),w=E[0],C=E[1],P=(0,d.useState)(!1),T=P[0],A=P[1],R=(0,d.useState)(""),Y=R[0],_=R[1],L=(0,d.useState)({text:"",class:""}),O=L[0],J=L[1];(0,d.useEffect)((function(){e.query.address&&x(e.query.address)}),[e.query.address]),(0,d.useEffect)((function(){var a=function(){var a,n=(a=r().mark((function a(){var n,t,c;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s){a.next=2;break}return a.abrupt("return");case 2:if(b(!1),g(!1),C(!1),A(!1),_(""),(0,o.isAddress)(v)){a.next=10;break}return _("Address is not valid"),a.abrupt("return");case 10:return e.push("/inspect?address=".concat(v)),i(!0),a.next=14,(0,h.DE)(v,s);case 14:n=a.sent,b(n.isErc725X),g(n.isErc725Y),C(n.isErc725Y_v2),A(n.isErc725YLegacy),i(!1),t="",c="",n.isErc725Y_v2&&(t="\u26a0\ufe0f \ud83c\udd99 This Profile was created with version 0.5.0. You are missing out on a lot of new cool features. Consider upgrading! ",c="warning"),n.isErc725YLegacy&&(t="\ud83d\ude1e \u2757 This is a legacy Universal Profile. Most of the features might not be working properly. Consider creating a new one. ",c="danger"),J({text:t,class:c});case 25:case"end":return a.stop()}}),a)})),function(){var e=this,s=arguments;return new Promise((function(n,r){var t=a.apply(e,s);function c(e){S(t,n,r,c,i,"next",e)}function i(e){S(t,n,r,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();a()}),[v,s,Y]);var U=k||w||T,D=function(){return y||U?(0,t.jsxs)("div",{className:"help is-success inspect-result",children:[(0,t.jsxs)("p",{children:["ERC725X: ",y?"\u2705":"\u274c"]}),(0,t.jsxs)("p",{children:["ERC725Y: ",U?"\u2705":"\u274c"," ",w&&"(v2.0)",T&&"(legacy)"]})]}):(0,t.jsxs)("div",{className:"help is-danger inspect-result",children:[(0,t.jsx)("p",{children:"ERC725X: \u274c"}),(0,t.jsx)("p",{children:"ERC725Y: \u274c"}),(0,t.jsx)("p",{children:"This address is not a valid ERC725 Profile. Please check the address is correct."})]})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsx)("title",{children:"Inspect - ERC725 Tools"})}),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("article",{className:"message is-info",children:(0,t.jsxs)("div",{className:"message-body",children:["This tool will fetch all data keys of"," ",(0,t.jsx)("a",{href:"https://github.com/ERC725Alliance/ERC725",children:"ERC725Y"})," smart contract and attempt to match them with their"," ",(0,t.jsx)("a",{href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",children:"LSP2 ERC725YJSONSchema"}),".",(0,t.jsx)("br",{}),"The erc725.js lib provides a"," ",(0,t.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/classes/ERC725#getschema",children:"getSchema"})," ","method to decode the keys."]})}),(0,t.jsxs)("div",{className:"columns",children:[(0,t.jsx)("div",{className:"column is-half",children:(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{className:"label",children:"Contract address"}),(0,t.jsx)("div",{className:"control mb-0",children:(0,t.jsx)("input",{className:"input",type:"text",placeholder:"0xb8E120e7e5EAe7bfA629Db5CEFfA69C834F74e99",value:v,onChange:function(e){x(e.target.value)}})}),(0,t.jsx)("div",{className:"columns",children:(0,t.jsx)("div",{className:"column is-one-half",children:Y?(0,t.jsx)("div",{className:"help is-danger",children:Y}):(0,t.jsx)(D,{})})})]})}),(0,t.jsx)("div",{className:"column is-half",children:(w||T)&&(0,t.jsx)("div",{className:"notification is-"+O.class,children:O.text})})]}),(0,t.jsx)("div",{className:"container is-fluid",children:(0,t.jsx)("div",{className:"columns is-vcentered",children:(0,t.jsx)("div",{className:"column is-offset-one-quarter is-half has-text-centered",children:!Y&&(0,t.jsx)(p,{address:v,showInspectButton:!1})})})}),(0,t.jsx)("div",{className:"container is-fluid",children:!Y&&!n&&(0,t.jsx)(N,{address:v,isErc725YLegacy:T,isErc725Y_v2:w,isErc725Y:k})})]})]})}}},function(e){e.O(0,[482,714,589,316,918,26,774,888,179],(function(){return s=47136,e(e.s=s);var s}));var s=e.O();_N_E=s}]);